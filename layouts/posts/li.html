<li>

  <div id="{{ .Title }}-sidebar"></div>
  <h1 id="test"></h1>  

  <div id="{{ .Title }}-post">

    <style>
      .dark-mode-background {
	margin: 30px;
	padding: 20px;
      }
      
     .light-mode-background {
       margin: 30px;
       padding: 20px;
     }

      .tvshape {
        position: relative;
 	margin: 20px 10px;
	padding: 20px;
 	border-radius: 50% / 10%;
 	color: white;
 	text-align: left;
 	text-indent: .1em;
      }

      .tvshape:before {
	content: "";
 	position: absolute;
 	top: 10%;
 	bottom: 10%;
 	right: -5%;
 	left: -5%;
 	border-radius: 5% / 50%;
      }     	     

    </style>

    <p>
		
      <span class="date">{{ .Date | time.Format (.Site.Params.dateFormat | default "January 2, 2006" ) }}</span>        

      <a class="title" href="{{ .Params.externalLink | default .RelPermalink }}"> {{ .Title }} </a>

      <a> &#8200; &#8200; &#8200; &#8200; </a>
      <span> {{ with .Params.categories }}{{ partial "taxonomy/categories.html" .}}{{ end }} </span>

    </p>  
 
    <hr>
    
    {{ if .Params.image }}
      <img src="{{ .Params.imageSrc }}" alt="Article image" style="width:{{ .Params.imageWidth }}px; height:{{ .Params.imageHeight }}px">
      <vr>
          
    {{ end }}

    <p> &#8200; &#8200; &#8200; &#8200; {{ .Description | markdownify }} </p>

    <span class="tag"> {{ with .Params.tags }}{{ partial "taxonomy/tags.html" .}}{{ end }} </span>

    <br>

  </div>


  <script> 
    window.addEventListener('DOMContentReady',function(){
      document.getElementById("test").innerHTML = "{{ .Site.Params.blogPost.sidebar }}";

      if ({{ .Site.Params.blogPost.sidebar }} == "true") {
         document.getElementById("{{ .Title }}-sidebar").className = "tvshape";
         document.getElementById("{{ .Title }}-sidebar").style.background = {{ .Site.Params.blogPost.sidebarColor}};
      }
  

      if ({{ .Site.Params.blogPost.fill }} == "true") {
        getTheme = window.localStorage && window.localStorage.getItem("colorscheme");
        getTheme = getTheme == null ? '{{$.Site.Params.utterances.theme}}' : getTheme;              

        const fill = document.getElementById("{{ .Title }}-post");

        if (getTheme == "light") {
          fill.className = "light-mode-background" ;
          fill.background-color = {{ .Site.Params.blogPost.fillDarkMode}};
        } else {
          fill.className = "dark-mode-background" ;
          fill.background-color = {{ .Site.Params.blogPost.fillLightMode}};
        }
      }
    };
  </script>


</li>

<br>
<br>
